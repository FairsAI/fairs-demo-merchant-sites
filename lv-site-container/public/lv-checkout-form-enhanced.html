<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Louis Vuitton - Enhanced Checkout (Production SDK)</title>
    <!-- Note: For production, install Tailwind CSS as a PostCSS plugin instead of using CDN -->
    <!-- See: https://tailwindcss.com/docs/installation -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>👜</text></svg>">
    <style>
        /* Load Futura font from lv-checkout */
        @font-face {
            font-family: 'Futura';
            src: url('/lv-checkout/app//assets/fonts/futurabt-light-webfont.woff2') format('woff2'),
                 url('/lv-checkout/app//assets/fonts/futura-light-bt.ttf') format('truetype');
            font-weight: 300;
            font-style: normal;
            font-display: swap;
        }

        /* Custom fonts and styles with Futura as primary font */
        body {
            font-family: 'Futura', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-weight: 300;
            letter-spacing: 0.025em;
            background-color: #f9f9f9;
        }

        /* Enhanced typography with Futura */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Futura', sans-serif;
            font-weight: 300;
            letter-spacing: 0.05em;
        }

        .lv-logo {
            height: 24px;
            width: auto;
        }

        /* Form field styling */
        .form-field {
            border: 1px solid #d1d5db;
            border-radius: 4px;
            padding: 12px;
            font-size: 14px;
            background-color: white;
            transition: border-color 0.2s;
        }

        .form-field:focus {
            outline: none;
            border-color: #000;
            box-shadow: 0 0 0 1px #000;
        }

        .form-label {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 4px;
            display: block;
        }

        /* Ensure dropdowns have white backgrounds */
        select {
            background-color: white !important;
            height: 46px; /* Match form field height (12px padding top + 12px padding bottom + 22px content) */
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 14px;
        }

        select:focus {
            outline: none;
            border-color: #000;
            box-shadow: 0 0 0 1px #000;
        }

        .fairs-logo {
            height: 15px;
            width: 45px;
            display: inline-block;
        }

        /* Ensure Pay with Fairs button stays black */
        #fairs-checkout-button {
            background-color: #000000 !important;
            color: white !important;
        }

        #fairs-checkout-button:hover {
            background-color: #1f2937 !important;
        }

        #fairs-checkout-button.opacity-75 {
            background-color: #000000 !important;
            opacity: 0.75;
        }

        /* Comprehensive button state overrides */
        #fairs-checkout-button,
        #fairs-checkout-button:focus,
        #fairs-checkout-button:active,
        #fairs-checkout-button:visited,
        #fairs-checkout-button[disabled],
        #fairs-checkout-button.disabled,
        #fairs-checkout-button.bg-gray-500,
        #fairs-checkout-button.bg-gray-600,
        #fairs-checkout-button.bg-gray-700,
        #fairs-checkout-button.bg-gray-800,
        #fairs-checkout-button.bg-gray-900,
        #fairs-checkout-button.bg-slate-500,
        #fairs-checkout-button.bg-slate-600,
        #fairs-checkout-button.bg-slate-700,
        #fairs-checkout-button.bg-slate-800,
        #fairs-checkout-button.bg-slate-900 {
            background-color: #000000 !important;
            background: #000000 !important;
            color: white !important;
        }

        /* Override Tailwind hover states */
        #fairs-checkout-button:hover,
        #fairs-checkout-button.hover\:bg-gray-900:hover {
            background-color: #1f2937 !important;
            background: #1f2937 !important;
        }

        /* Modal styles for the quick checkout */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.8);
            display: none;
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        /* Override Fairs SDK modal background */
        .fairs-modal-overlay,
        .fairs-checkout-overlay,
        [class*="fairs"] [class*="overlay"],
        [class*="modal"] [class*="overlay"],
        div[style*="background"]:not(.modal-content) {
            background: rgba(255, 255, 255, 0.8) !important;
        }

        /* Additional fallback overrides */
        body > div[style*="position: fixed"][style*="z-index"] {
            background: rgba(255, 255, 255, 0.8) !important;
        }

        .modal-content {
            background: white;
            padding: 24px;
            border-radius: 8px;
            max-width: 425px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        /* Enhanced SDK Status Box */
        .sdk-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(59, 130, 246, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            z-index: 50;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white border-b border-gray-200">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <!-- Left Side - Menu and Search -->
            <div class="flex items-center space-x-4">
                <button class="p-2">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
                <button class="p-2">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Center - Logo -->
            <div class="absolute left-1/2 transform -translate-x-1/2">
                <img src="/assets/images/louis-vuitton-logo.png" 
                     alt="LOUIS VUITTON" class="lv-logo">
            </div>
            
            <!-- Right Side - Contact, Wishlist, Profile, Cart -->
            <div class="flex items-center space-x-4">
                <button class="p-1 text-xs">Contact Us</button>
                <button class="p-2">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                    </svg>
                </button>
                <button class="p-2">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </button>
                <button class="p-2 relative">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    <span class="absolute -top-1 -right-1 bg-black text-white text-[10px] rounded-full h-4 w-4 flex items-center justify-center">2</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow bg-gray-50">
        <div class="flex flex-col lg:flex-row">
            <!-- Left Column - Checkout Form -->
            <div class="lg:w-2/3 bg-gray-50 px-4 pb-12">
                <div class="max-w-[800px] mx-auto">
                    <div class="space-y-8 py-8">
                        <!-- Back Button -->
                        <div class="flex items-center">
                            <button id="back-button" class="flex items-center text-black" onclick="window.location.href='/test-1-lv-checkout.html'">
                                <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                        </div>

                        <!-- Contact Section -->
                        <div>
                            <h2 class="text-xl font-normal mb-6">Contact</h2>
                            <div class="mb-4">
                                <input type="email" id="email" name="email" 
                                       placeholder="Email (try: test@example.com)" 
                                       class="form-field w-full" required>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="email-offers" name="email-offers" class="mr-2">
                                <label for="email-offers" class="text-sm">Email me with news and offers</label>
                            </div>
                        </div>

                        <!-- Delivery Section -->
                        <div>
                            <h2 class="text-xl font-normal mb-6">Delivery</h2>
                            
                            <div class="mb-4">
                                <select name="country" class="form-field w-full">
                                    <option value="US">United States</option>
                                    <option value="CA">Canada</option>
                                    <option value="UK">United Kingdom</option>
                                </select>
                            </div>

                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <input type="text" name="firstName" 
                                           placeholder="First name" 
                                           class="form-field w-full" required>
                                </div>
                                <div>
                                    <input type="text" name="lastName" 
                                           placeholder="Last name" 
                                           class="form-field w-full" required>
                                </div>
                            </div>

                            <div class="mb-4">
                                <input type="text" name="address" 
                                       placeholder="Address" 
                                       class="form-field w-full" required>
                            </div>

                            <div class="mb-4">
                                <input type="text" name="apartment" 
                                       placeholder="Apartment, suite, etc. (optional)" 
                                       class="form-field w-full">
                            </div>

                            <div class="grid grid-cols-3 gap-4 mb-4">
                                <div>
                                    <input type="text" name="city" 
                                           placeholder="City" 
                                           class="form-field w-full" required>
                                </div>
                                <div>
                                    <select name="state" class="form-field w-full">
                                        <option value="NY">New York</option>
                                        <option value="CA">California</option>
                                        <option value="TX">Texas</option>
                                    </select>
                                </div>
                                <div>
                                    <input type="text" name="zip" 
                                           placeholder="Postal code" 
                                           class="form-field w-full" required>
                                </div>
                            </div>

                            <div class="mb-4">
                                <input type="tel" name="phone" 
                                       placeholder="Phone (optional)" 
                                       class="form-field w-full">
                            </div>

                            <div class="flex items-center">
                                <input type="checkbox" id="text-offers" name="text-offers" class="mr-2">
                                <label for="text-offers" class="text-sm">Text me with news and offers</label>
                            </div>
                        </div>

                        <!-- Shipping Method Section -->
                        <div>
                            <h2 class="text-xl font-normal mb-6">Shipping method</h2>
                            <div class="border border-gray-200 rounded-lg mb-4">
                                <div class="p-4 bg-gray-50">
                                    <label class="flex items-center justify-between cursor-pointer">
                                        <div class="flex items-center">
                                            <input type="radio" name="shipping-method" value="standard" checked class="mr-3">
                                            <div>
                                                <span class="font-medium text-sm">STANDARD GROUND (5-7 Business Days)</span>
                                            </div>
                                        </div>
                                        <span class="text-sm font-medium">$0.00</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Section -->
                        <div>
                            <h2 class="text-xl font-normal mb-6">Payment</h2>
                            <div class="flex items-center mb-4">
                                <svg class="h-4 w-4 text-gray-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                </svg>
                                <p class="text-sm text-gray-500">All transactions are secure and encrypted.</p>
                            </div>
                            
                            <!-- Traditional Credit Card Option -->
                            <div class="border border-gray-200 rounded-lg mb-4">
                                <div class="p-4 bg-white border-b border-gray-200">
                                    <div class="flex items-center justify-between">
                                        <label class="flex items-center">
                                            <input type="radio" name="payment-method" value="card" checked class="mr-2">
                                            <span class="font-medium">Credit or Debit Card</span>
                                        </label>
                                        <div class="flex space-x-2">
                                            <img src="/assets/images/visa.svg" alt="Visa" class="h-5">
                                            <img src="/assets/images/mastercard-svgrepo-com.svg" alt="Mastercard" class="h-5">
                                            <img src="/assets/images/amex.svg" alt="Amex" class="h-5">
                                            <img src="/assets/images/discover.svg" alt="Discover" class="h-5">
                                        </div>
                                    </div>
                                </div>
                                <div class="p-4 space-y-4">
                                    <input type="text" name="cardNumber" 
                                           placeholder="Card number" 
                                           class="form-field w-full" required>
                                    <div class="grid grid-cols-2 gap-4">
                                        <input type="text" name="expiry" 
                                               placeholder="Expiration date (MM / YY)" 
                                               class="form-field w-full" required>
                                        <input type="text" name="cvv" 
                                               placeholder="Security code" 
                                               class="form-field w-full" required>
                                    </div>
                                    <input type="text" name="nameOnCard" 
                                           placeholder="Name on card" 
                                           class="form-field w-full" required>
                                    
                                    <!-- Use shipping address as billing address checkbox -->
                                    <div class="flex items-center mb-4">
                                        <input type="checkbox" id="billing-address" name="billing-address" class="mr-2" checked>
                                        <label for="billing-address" class="text-sm">Use shipping address as billing address</label>
                                    </div>
                                    
                                    <!-- Billing address section (hidden by default) -->
                                    <div id="billing-address-section" class="space-y-4" style="display: none;">
                                        <h3 class="text-lg font-normal">Billing address</h3>
                                        
                                        <div class="mb-4">
                                            <select name="billing-country" class="form-field w-full">
                                                <option value="US">United States</option>
                                                <option value="CA">Canada</option>
                                                <option value="UK">United Kingdom</option>
                                            </select>
                                        </div>

                                        <div class="grid grid-cols-2 gap-4 mb-4">
                                            <div>
                                                <input type="text" name="billing-firstName" 
                                                       placeholder="First name" 
                                                       class="form-field w-full">
                                            </div>
                                            <div>
                                                <input type="text" name="billing-lastName" 
                                                       placeholder="Last name" 
                                                       class="form-field w-full">
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <input type="text" name="billing-address" 
                                                   placeholder="Address" 
                                                   class="form-field w-full">
                                        </div>

                                        <div class="mb-4">
                                            <input type="text" name="billing-apartment" 
                                                   placeholder="Apartment, suite, etc. (optional)" 
                                                   class="form-field w-full">
                                        </div>

                                        <div class="grid grid-cols-3 gap-4 mb-4">
                                            <div>
                                                <input type="text" name="billing-city" 
                                                       placeholder="City" 
                                                       class="form-field w-full">
                                            </div>
                                            <div>
                                                <select name="billing-state" class="form-field w-full">
                                                    <option value="">State</option>
                                                    <option value="AL">Alabama</option>
                                                    <option value="NY">New York</option>
                                                    <option value="CA">California</option>
                                                    <option value="TX">Texas</option>
                                                </select>
                                            </div>
                                            <div>
                                                <input type="text" name="billing-zip" 
                                                       placeholder="ZIP code" 
                                                       class="form-field w-full">
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <input type="tel" name="billing-phone" 
                                                   placeholder="Phone (optional)" 
                                                   class="form-field w-full">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Remember me Section -->
                        <div>
                            <h2 class="text-xl font-normal mb-6">Remember me</h2>
                            <div class="flex items-center mb-4">
                                <input type="checkbox" id="save-info" name="save-info" class="mr-2">
                                <label for="save-info" class="text-sm">Save my information for a faster checkout with a Fairs account</label>
                            </div>
                            <div class="flex items-center">
                                <span class="text-xs text-gray-500 mr-2">+1</span>
                                <input type="tel" name="mobile" 
                                       placeholder="Mobile phone number" 
                                       class="form-field flex-1 text-sm">
                            </div>
                            <p class="text-xs text-gray-500 mt-2">🔒 Secure and encrypted</p>
                            
                            <!-- Complete Order Button -->
                            <button id="complete-order-button" class="w-full h-12 rounded-none bg-black hover:bg-gray-900 text-white font-normal flex items-center justify-center mt-6">
                                <span class="flex items-center">Complete order</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Order Summary -->
            <div class="lg:w-1/3 bg-white lg:min-h-screen">
                <div class="p-6">
                    <h2 class="text-lg font-normal mb-4">Order Summary</h2>

                    <!-- Order Items -->
                    <div class="mb-6">
                        <div class="flex items-center space-x-4 mb-4">
                            <div class="relative">
                                <img src="/assets/images/speedy-soft-30-crafty.png"
                                     alt="Speedy Soft 30 Crafty" class="w-16 h-16 object-cover rounded">
                                <span class="absolute -top-2 -right-2 bg-gray-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">1</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="font-medium text-sm">Speedy Soft 30 Crafty</h3>
                                <p class="text-xs text-gray-500">Monogram Rouge</p>
                            </div>
                            <span class="text-sm font-normal">$3,400.00</span>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <img src="/assets/images/monogram-bloom-belted-dress.png"
                                     alt="Monogram Bloom Belted Dress" class="w-16 h-16 object-cover rounded">
                                <span class="absolute -top-2 -right-2 bg-gray-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">1</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-normal">Monogram Bloom Belted Dress</h3>
                                <p class="text-xs text-gray-500">Milky White • Size 34</p>
                            </div>
                            <span class="text-sm font-normal">$4,400.00</span>
                        </div>
                    </div>

                    <!-- Discount Code -->
                    <div class="mb-6">
                        <div class="flex">
                            <input type="text" placeholder="Discount code or gift card" 
                                   class="form-field flex-1 rounded-r-none border-r-0">
                            <button class="px-4 py-2 bg-gray-100 border border-gray-300 rounded-r text-sm font-medium hover:bg-gray-200">
                                Apply
                            </button>
                        </div>
                    </div>

                    <!-- Order Totals -->
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-sm">Subtotal</span>
                            <span class="text-sm font-normal">$7,800.00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">Shipping</span>
                            <span class="text-sm font-normal">$0.00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm">Tax</span>
                            <span class="text-sm font-normal">$0.00</span>
                        </div>
                        <p class="text-xs text-gray-500">Will be calculated according to your delivery address</p>
                    </div>

                    <hr class="my-4 border-gray-200">

                    <div class="flex justify-between mb-6">
                        <span class="text-base font-normal">Total</span>
                        <span class="text-base font-normal">$7,800.00</span>
                    </div>

                    <!-- Payment Buttons -->
                    <div class="space-y-3">
                        <!-- Pay with Fairs Button -->
                        <button id="fairs-checkout-button" class="w-full h-12 rounded-none bg-black hover:bg-gray-900 text-white font-normal flex items-center justify-center mb-4">
                            <span class="mr-2">Pay with</span>
                            <svg class="fairs-logo" viewBox="0 0 45 15" fill="white">
                                <text x="0" y="12" font-size="10" font-weight="600">FAIRS</text>
                            </svg>
                        </button>
                    </div>

                    <!-- Policy Links -->
                    <div class="mt-6 mb-8 text-center text-xs text-gray-500">
                        <p>By clicking above and placing your order, you agree to Louis Vuitton's 
                        <a href="#" class="underline">Terms & Conditions</a> and acknowledge our 
                        <a href="#" class="underline">Privacy Policy</a>.</p>
                    </div>
                </div>

                <!-- Service Information -->
                <div class="border-t border-gray-200">
                    <div class="py-6 px-6 flex items-start">
                        <div class="mr-4 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">
                            <svg class="h-3 w-3 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                <line x1="1" y1="10" x2="23" y2="10"></line>
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-sm font-normal mb-1">Payment</h3>
                            <p class="text-xs text-gray-500">Credit card, debit card, PayPal, or Apple Pay</p>
                        </div>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>

                    <div class="py-6 px-6 flex items-start border-t border-gray-200">
                        <div class="mr-4 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">
                            <svg class="h-3 w-3 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <rect x="1" y="3" width="15" height="13"></rect>
                                <path d="m16 8 2 2-2 2"></path>
                                <path d="m21 12H7"></path>
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-sm font-normal mb-1">Shipping & Delivery</h3>
                            <p class="text-xs text-gray-500">Complimentary Standard Delivery</p>
                        </div>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>

                    <div class="py-6 px-6 flex items-start border-t border-gray-200">
                        <div class="mr-4 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">
                            <svg class="h-3 w-3 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                                <path d="M21 3v5h-5"></path>
                                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                                <path d="M3 21v-5h5"></path>
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-sm font-normal mb-1">Returns & Exchanges</h3>
                            <p class="text-xs text-gray-500">Complimentary</p>
                        </div>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>

                    <div class="py-6 px-6 flex items-start border-t border-gray-200">
                        <div class="mr-4 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">
                            <svg class="h-3 w-3 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-sm font-normal mb-1">Next Day Collect-In-Store</h3>
                            <p class="text-xs text-gray-500"></p>
                        </div>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>

                    <div class="py-6 px-6 flex items-start border-t border-gray-200">
                        <div class="mr-4 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">
                            <svg class="h-3 w-3 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <polyline points="20,6 9,17 4,12"></polyline>
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-sm font-normal mb-1">Gifting</h3>
                            <p class="text-xs text-gray-500">Discover all the details behind the perfect gift</p>
                        </div>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-8 mt-12">
        <div class="max-w-[1200px] mx-auto px-4 lg:pl-4 lg:pr-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8 lg:ml-0">
                <div>
                    <h3 class="text-sm font-normal mb-4">HELP</h3>
                    <ul class="space-y-2">
                        <li class="text-xs">
                            Our Client Advisors are available to assist you by phone at +1-866-VUITTON, or you may also chat with us.
                        </li>
                        <li class="text-xs underline">FAQs</li>
                        <li class="text-xs underline">Product Care</li>
                        <li class="text-xs underline">Stores</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-normal mb-4">SERVICES</h3>
                    <ul class="space-y-2">
                        <li class="text-xs underline">Repairs</li>
                        <li class="text-xs underline">Personalization</li>
                        <li class="text-xs underline">Art of Gifting</li>
                        <li class="text-xs underline">Download our Apps</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-normal mb-4">ABOUT LOUIS VUITTON</h3>
                    <ul class="space-y-2">
                        <li class="text-xs underline">Fashion Shows</li>
                        <li class="text-xs underline">Arts & Culture</li>
                        <li class="text-xs underline">La Maison</li>
                        <li class="text-xs underline">Sustainability</li>
                        <li class="text-xs underline">Latest News</li>
                        <li class="text-xs underline">Careers</li>
                        <li class="text-xs underline">Foundation Louis Vuitton</li>
                    </ul>
                </div>
            </div>

            <div class="flex flex-col md:flex-row justify-between items-start md:items-center pt-8 border-t border-gray-200 lg:ml-0">
                <div class="flex items-center mb-4 md:mb-0">
                    <span class="text-xs mr-2">Ship to:</span>
                    <img src="/assets/images/us-flag.svg" alt="US Flag" style="width: 20px; height: 15px; display: inline-block; margin-right: 8px;">
                    <span class="text-xs">United States of America</span>
                </div>
                <div class="flex flex-wrap gap-x-4 gap-y-2">
                    <span class="text-xs">Sitemap</span>
                    <span class="text-xs">Legal Notices</span>
                    <span class="text-xs">Privacy Policy</span>
                    <span class="text-xs">California Supply Chains Act</span>
                    <span class="text-xs">Do Not Sell or Share My Personal Information</span>
                    <span class="text-xs">Accessibility</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Enhanced SDK Status Indicator -->
    <div class="sdk-status">
        🚀 Production SDK Active | Zero Customer Integration
    </div>

    <!-- Enhanced Fairs SDK - Production Ready SDK! -->
    <script src="/fairs-checkout-sdk.js"></script>
    <script>
        // 🎯 COMPLETE LOUIS VUITTON INTEGRATION - NEW PRODUCTION SDK
        const fairsSDK = FairsCheckoutSDK.createModal({
            // No baseUrl specified - will use window.location.origin (platform proxy)
            mode: 'modal',
            autoResize: true,
            debug: true,
            onComplete: (result) => {
                resetFairsButton();
                restorePageScrolling();
                alert(`🎉 Louis Vuitton Order Complete!\nTransaction: ${result.transactionId}\nTotal: $${result.amount}`);
                window.location.href = '/order-confirmation';
            },
            onStepChange: (step, data) => {
                console.log(`📍 Checkout step: ${step}`);
            },
            onClose: () => {
                resetFairsButton();
                restorePageScrolling();
                console.log('❌ Checkout cancelled');
            },
            onError: (error) => {
                console.error('💥 Checkout error:', error);
                resetFairsButton();
                restorePageScrolling();
            }
        });

        // Initialize with cart data
        fairsSDK.updateData({
            merchantId: 'louis-vuitton-demo',
            cart: { 
                total: 7800.00, 
                currency: 'USD', 
                items: [
                    { id: 'M11945', name: 'Speedy Soft 30 Crafty', price: 3400.00, quantity: 1 },
                    { id: '1A9H2D', name: 'Monogram Bloom Belted Dress', price: 4400.00, quantity: 1 }
                ]
            }
        });
        
        // Button state management functions
        function setFairsButtonLoading() {
            const button = document.getElementById('fairs-checkout-button');
            if (button) {
                button.innerHTML = '<span class="flex items-center">Opening checkout...</span>';
                button.disabled = true;
                button.classList.add('opacity-75');
                // Force black background
                button.style.setProperty('background-color', '#000000', 'important');
                button.style.setProperty('color', 'white', 'important');
            }
        }
        
        function resetFairsButton() {
            const button = document.getElementById('fairs-checkout-button');
            if (button) {
                // Reset content
                button.innerHTML = `
                    <span class="mr-2">Pay with</span>
                    <svg class="fairs-logo" viewBox="0 0 45 15" fill="white">
                        <text x="0" y="12" font-size="10" font-weight="600">FAIRS</text>
                    </svg>
                `;
                
                // Reset state
                button.disabled = false;
                button.classList.remove('opacity-75');
                
                // Force black background
                button.style.setProperty('background-color', '#000000', 'important');
                button.style.setProperty('color', 'white', 'important');
                
                // Remove any conflicting classes
                button.classList.remove('bg-gray-500', 'bg-gray-600', 'bg-gray-700', 'bg-gray-800', 'bg-gray-900');
                button.classList.remove('bg-slate-500', 'bg-slate-600', 'bg-slate-700', 'bg-slate-800', 'bg-slate-900');
            }
        }
        
        function restorePageScrolling() {
            // Restore body scrolling
            document.body.style.overflow = '';
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.left = '';
            document.body.style.right = '';
            document.body.style.bottom = '';
            document.body.style.height = '';
            document.body.style.width = '';
            
            // Restore html scrolling
            document.documentElement.style.overflow = '';
            document.documentElement.style.position = '';
            document.documentElement.style.height = '';
            
            // Remove any modal-related classes that might block scrolling
            document.body.classList.remove('modal-open', 'no-scroll', 'overflow-hidden');
            document.documentElement.classList.remove('modal-open', 'no-scroll', 'overflow-hidden');
            
            console.log('🔄 Page scrolling restored');
        }
        
        // Enhanced modal close functionality
        document.addEventListener('DOMContentLoaded', () => {
            console.log('🎯 Louis Vuitton Production SDK Loaded');
            console.log('📧 Production SDK automatically monitoring email field for user recognition');
            console.log('🔘 Production SDK automatically attached to checkout button');
            console.log('🚀 Production features: advanced modal management, cross-merchant recognition, adblocker mitigation');
            
            // Let the SDK handle modal closing - no conflicting handlers
            console.log('✅ Modal close handling delegated to Production SDK');
            
            // Add Complete Order button handler
            const completeOrderButton = document.getElementById('complete-order-button');
            if (completeOrderButton) {
                completeOrderButton.addEventListener('click', handleCompleteOrder);
                console.log('✅ Complete Order button handler attached');
            }
            
            // Add billing address toggle functionality
            const billingCheckbox = document.getElementById('billing-address');
            const billingSection = document.getElementById('billing-address-section');
            
            if (billingCheckbox && billingSection) {
                billingCheckbox.addEventListener('change', function() {
                    if (this.checked) {
                        // Hide billing address section when using shipping address
                        billingSection.style.display = 'none';
                        console.log('✅ Using shipping address as billing address');
                    } else {
                        // Show billing address section when different billing address needed
                        billingSection.style.display = 'block';
                        console.log('✅ Showing separate billing address fields');
                    }
                });
                console.log('✅ Billing address toggle functionality attached');
            }
        });
        
        // Handle Complete Order form submission
        async function handleCompleteOrder(event) {
            event.preventDefault();
            
            console.log('🛒 Processing Complete Order...');
            
            // Get form data
            const formData = {
                email: document.querySelector('input[name="email"]')?.value || '',
                firstName: document.querySelector('input[name="firstName"]')?.value || '',
                lastName: document.querySelector('input[name="lastName"]')?.value || '',
                address: document.querySelector('input[name="address"]')?.value || '',
                apartment: document.querySelector('input[name="apartment"]')?.value || '',
                city: document.querySelector('input[name="city"]')?.value || '',
                state: document.querySelector('select[name="state"]')?.value || '',
                zipCode: document.querySelector('input[name="zip"]')?.value || '',
                mobile: document.querySelector('input[name="mobile"]')?.value || '',
                saveInfo: document.querySelector('input[name="save-info"]')?.checked || false
            };
            
            console.log('📝 Form data collected:', formData);
            
            // Validate required fields
            if (!formData.email || !formData.firstName || !formData.lastName) {
                alert('Please fill in all required fields (Email, First Name, Last Name)');
                return;
            }
            
            // Show loading state
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="flex items-center">Processing order...</span>';
            button.disabled = true;
            
            try {
                // If "Save my information" is checked, create a Fairs user
                if (formData.saveInfo) {
                    console.log('💾 Creating Fairs user account...');
                    
                    const userData = {
                        email: formData.email,
                        firstName: formData.firstName,
                        lastName: formData.lastName,
                        phone: formData.mobile,
                        address: {
                            street: formData.address,
                            apartment: formData.apartment,
                            city: formData.city,
                            state: formData.state,
                            zipCode: formData.zipCode,
                            country: 'US'
                        },
                        preferences: {
                            marketing: true,
                            notifications: true
                        },
                        source: 'louis-vuitton-checkout'
                    };
                    
                    // Create user via API
                    const response = await fetch('/api/identity', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            email: formData.email,
                            name: `${formData.firstName} ${formData.lastName}`,
                            phone: formData.mobile,
                            merchantId: 'louis-vuitton-demo'
                        })
                    });
                    
                    if (response.ok) {
                        const result = await response.json();
                        console.log('✅ Fairs user created successfully:', result);
                        alert(`🎉 Welcome to Fairs, ${formData.firstName}!\n\nYour account has been created with email: ${formData.email}\nUser ID: ${result.user?.id || 'N/A'}\n\nYou can now enjoy faster checkouts on future purchases!`);
                    } else {
                        const error = await response.json();
                        console.error('❌ Failed to create Fairs user:', error);
                        
                        // Check if user already exists
                        if (response.status === 409 || error.message?.includes('already exists')) {
                            alert(`👋 Welcome back, ${formData.firstName}!\n\nYou already have a Fairs account with ${formData.email}.\nYour information has been updated for this order.`);
                        } else {
                            alert('⚠️ Could not create Fairs account, but your order will still be processed.');
                        }
                    }
                } else {
                    console.log('📦 Processing order without creating Fairs account');
                }
                
                // Simulate order processing
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Show success message
                alert(`🎉 Order Complete!\n\nThank you for your Louis Vuitton purchase!\nOrder Total: $7,800.00\n\n${formData.saveInfo ? 'Your Fairs account is ready for faster future checkouts!' : 'Consider creating a Fairs account next time for faster checkout!'}`);
                
                // Redirect to confirmation page
                window.location.href = '/order-confirmation.html';
                
            } catch (error) {
                console.error('💥 Order processing error:', error);
                alert('❌ There was an error processing your order. Please try again.');
            } finally {
                // Reset button state
                button.innerHTML = originalText;
                button.disabled = false;
            }
        }
    </script>
</body>
</html>